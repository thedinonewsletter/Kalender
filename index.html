<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Adventskalender-Quiz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    /* ========= GRUNDEINSTELLUNGEN ========= */
    :root {
      /* HIER dein Hintergrundbild einsetzen */
      --bg-image: url("Dino-Christmas.png");
      --door-color: rgba(200, 0, 40, 0.4);
      --door-open-color: rgba(255, 255, 255, 0.8);
      --accent: #ffd54f;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: #fff;
      background-image: var(--bg-image);
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      padding: 1rem;
    }

    .overlay {
      background: rgba(0, 0, 0, 0.15);
      border-radius: 16px;
      padding: 1.25rem;
      max-width: 1100px;
      width: 100%;
      backdrop-filter: blur(4px);
    }

    h1 {
      margin: 0 0 0.25rem;
      font-size: clamp(1.8rem, 4vw, 2.4rem);
      text-align: center;
    }

    .subtitle {
      margin: 0 0 1rem;
      text-align: center;
      font-size: 0.95rem;
      color: #ffecb3;
    }

    /* ========= NAME-EINGABE ========= */
    .bar {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      align-items: center;
      justify-content: center;
      margin-bottom: 1rem;
    }

    .bar label {
      font-size: 0.9rem;
    }

    .bar input {
      padding: 0.4rem 0.6rem;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.5);
      min-width: 160px;
      background: rgba(0, 0, 0, 0.3);
      color: #fff;
    }

    .bar button {
      border-radius: 999px;
      border: none;
      padding: 0.45rem 0.9rem;
      background: var(--accent);
      color: #3e2723;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.1s ease, box-shadow 0.1s ease, filter 0.15s ease;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
    }

    .bar button:hover {
      filter: brightness(1.05);
      transform: translateY(-1px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.45);
    }

    .info {
      text-align: center;
      font-size: 0.85rem;
      color: #ffe082;
      margin-bottom: 0.5rem;
    }

    /* ========= KALENDER-GRID ========= */
    .calendar {
      display: grid;
      grid-template-columns: repeat(6, minmax(0, 1fr));
      gap: 0.6rem;
      margin-top: 0.5rem;
    }

    @media (max-width: 800px) {
      .calendar {
        grid-template-columns: repeat(4, minmax(0, 1fr));
      }
    }

    @media (max-width: 540px) {
      .calendar {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    .door {
      position: relative;
      padding-top: 100%; /* Quadrat */
      perspective: 1000px;
    }

    .door-inner {
      position: absolute;
      inset: 0;
      transform-style: preserve-3d;
      transition: transform 0.7s ease;
      cursor: pointer;
    }

    .door-front,
    .door-back {
      position: absolute;
      inset: 0;
      backface-visibility: hidden;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .door-front {
      background: var(--door-color);
      border: 1px solid rgba(255, 255, 255, 0.5);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
      font-size: 1.4rem;
      font-weight: 700;
      letter-spacing: 1px;
    }

    .door-front span {
      text-shadow: 0 1px 3px rgba(0, 0, 0, 0.7);
    }

    .door-inner.open {
      transform: rotateY(-180deg);
    }

    .door-back {
      background: var(--door-open-color);
      color: #3e2723;
      transform: rotateY(180deg);
      border: 1px solid rgba(255, 255, 255, 0.7);
      box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.08);
      font-size: 1.2rem;
      padding: 0.3rem;
      text-align: center;
    }

    .door-back small {
      opacity: 0.8;
    }

    .door.locked .door-inner {
      cursor: not-allowed;
    }

    .door.locked .door-front {
      background: rgba(60, 60, 60, 0.5);
      color: rgba(255, 255, 255, 0.5);
      box-shadow: none;
      border-style: dashed;
    }

    .door.available .door-front {
      outline: 2px solid rgba(255, 235, 59, 0.8);
      outline-offset: -2px;
    }

    /* ========= MODAL ========= */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }

    .modal-backdrop.visible {
      display: flex;
    }

    .modal {
      background: #fafafa;
      color: #212121;
      max-width: 700px;
      width: 100%;
      margin: 1rem;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 16px 40px rgba(0, 0, 0, 0.6);
      animation: popIn 0.35s ease-out;
    }

    @keyframes popIn {
      from {
        transform: translateY(20px) scale(0.95);
        opacity: 0;
      }
      to {
        transform: translateY(0) scale(1);
        opacity: 0.8;
      }
    }

    .modal-header {
      padding: 0.8rem 1rem 0.4rem;
      background: linear-gradient(120deg, #c62828, #ad1457);
      color: #fff;
    }

    .modal-header h2 {
      margin: 0;
      font-size: 1.2rem;
    }

    .modal-body {
      padding: 0.8rem 1rem 1rem;
    }

    .question-text {
      font-weight: 600;
      margin: 0 0 0.5rem;
    }

    .question-image-wrapper {
      text-align: center;
      margin-bottom: 0.7rem;
    }

    .question-image {
      max-width: 100%;
      max-height: 320px;
      border-radius: 10px;
      object-fit: cover;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
    }

    .answer-label {
      font-size: 0.9rem;
      margin-bottom: 0.2rem;
      color: #555;
    }

    textarea {
      width: 100%;
      min-height: 70px;
      padding: 0.4rem 0.5rem;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-family: inherit;
      resize: vertical;
    }

    .modal-footer {
      padding: 0.6rem 1rem 0.9rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
      border-top: 1px solid #eee;
    }

    .btn {
      border-radius: 999px;
      border: none;
      padding: 0.4rem 0.9rem;
      font-size: 0.9rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    .btn-primary {
      background: #2e7d32;
      color: #fff;
    }

    .btn-secondary {
      background: #e0e0e0;
      color: #333;
    }

    .btn:hover {
      filter: brightness(1.05);
    }

    .status {
      font-size: 0.8rem;
      color: #388e3c;
    }

    .status.error {
      color: #c62828;
    }
  
  #mcOptions {
    display: flex;
    flex-direction: column;
    gap: 0.35rem;
    margin-top: 0.2rem;
  }
  
  .mc-option {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.3rem 0.4rem;
    border-radius: 8px;
    border: 1px solid #ddd;
    cursor: pointer;
    font-size: 0.9rem;
  }
  
  .mc-option input[type="radio"] {
    cursor: pointer;
  }
  
  .mc-option:hover {
    background: #f5f5f5;
  }

  </style>
</head>
<body>
<div class="overlay">
  <h1>Adventskalender-Quiz</h1>
  <p class="subtitle">√ñffne jeden Tag ein T√ºrchen, beantworte die Frage und lass dich √ºberraschen üéÑ</p>

  <div class="bar">
    <label for="nameInput">Dein Name:</label>
    <input id="nameInput" type="text" placeholder="z.B. Anna" />
    <button id="saveNameBtn">Speichern</button>
  </div>
  <p class="info" id="infoText">Bitte gib deinen Namen ein, um loszulegen.</p>

  <div id="calendar" class="calendar"></div>
</div>

<!-- MODAL -->
<div id="modalBackdrop" class="modal-backdrop">
  <div class="modal">
    <div class="modal-header">
      <h2 id="modalTitle">T√ºrchen</h2>
    </div>
    <div class="modal-body">
      <p id="questionText" class="question-text"></p>
      <div class="question-image-wrapper">
        <img id="questionImage" class="question-image" src="" alt="Advent Bild" />
      </div>
    
      <!-- Wrapper f√ºr Text-Antwort -->
      <div id="answerWrapper">
        <div class="answer-label">Deine Antwort:</div>
        <textarea id="answerInput" placeholder="Hier kannst du deine Antwort eintragen..."></textarea>
      </div>
    
      <!-- Wrapper f√ºr Multiple-Choice -->
      <div id="mcWrapper" style="display:none;">
        <div class="answer-label">W√§hle eine Option:</div>
        <div id="mcOptions"></div>
      </div>
    </div>
    <div class="modal-footer">
      <div id="status" class="status"></div>
      <div>
        <button class="btn btn-secondary" id="closeModalBtn">Schlie√üen</button>
        <button class="btn btn-primary" id="saveAnswerBtn">Antwort speichern</button>
      </div>
    </div>
  </div>
</div>

<script>
  /* ===========================
     KONFIGURATION
     =========================== */

  // DEV: Zum Testen kannst du hier einen Tag erzwingen (1‚Äì24), z.B. 5.
  // Lass es auf null, damit automatisch der echte Tag im Dezember benutzt wird.
  const FORCE_DAY = null;
  const answerWrapper = document.getElementById("answerWrapper");
  const mcWrapper = document.getElementById("mcWrapper");
  const mcOptionsContainer = document.getElementById("mcOptions");

  // Fragen und Bilder f√ºr jede T√ºr
  // -> HIER DEINE FRAGEN & BILD-URLs EINTRAGEN
  const QUESTIONS = {
    1: {
      text: "In diesem Jahr gab es mal wieder einiges an Entdeckungen. Welche der folgenden Optionen war kein realer wissenschaftlicher Durchbruch?",
      options: [
        "A: An einer Edmontosaurus Mumie wurden jetzt erstmals Hufe entdeckt",
        "B: Im Death Valley wurde der erste ausschlie√ülich auf zwei Beinen gehende Sauropode entdeckt ",
        "C: In der N√§he Oxfords wurde eine der gr√∂√üten Dinosaurier Highways mit etlichen Dino-Fu√üabdr√ºcken gefunden",
        "D: Nach Jahrzehnten wurde der Nanotyrannus als eigenst√§ndige Art anerkannt"
      ]
    },
    2: {
      text: "Willkommen bei unserm ersten Google-Maps Spiel. Im Dinosaur-House auf der Nordinsel Neuseelands ist welche Dinosaurier-Gattung nicht auf der Au√üenfassade angebracht?",
      options: [
        "A: Stegosauria",
        "B: Ceratopsia",
        "C: Tyrannosauria",
        "D: Sauropoda"
      ]
    },
    3: "L√ºckentext, schreibe die fehlenden Begriffe in deine Antwortzeile, getrennt mit einem Komma. Die als _____ Wars in die Geschichte eingegangene Auseinandersetzung zwischen Edward _____ Cope und Othniel Charles Marsh, war eine Auseinandersetzung zweier Pal√§ontologen im _____ Jahrhundert. Im Rahmen dieses Streites wurden ca. 140 neue Dinosaurier beschrieben. Ausgel√∂st wurde dieser Streit wohl, nachdem Cope beim Beschreiben des Elasmosaurus _____ und Schwanz verwechselte, woraufhin Marsh ihn √∂ffentlichkeitswirksam auslachte.",
    4: "Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.",
    5: "Was bedeutet dir die Adventszeit pers√∂nlich?",
    6: "Ohne welches Getr√§nk ist Advent f√ºr dich nicht komplett?",
    7: "Wie schm√ºckst du deine Wohnung/dein Zuhause im Advent?",
    8: "Welchen Film schaust du in der Weihnachtszeit immer wieder?",
    9: "Gibt es einen Weihnachtsduft, den du besonders liebst?",
    10: "Was war das ungew√∂hnlichste Geschenk, das du je bekommen hast?",
    11: "Mit wem verbringst du am liebsten Heiligabend?",
    12: "Gibt es ein Weihnachtsritual, das du aus deiner Kindheit √ºbernommen hast?",
    13: "Was geh√∂rt f√ºr dich unbedingt auf den Weihnachtstisch?",
    14: "Hast du einen Weihnachtswunsch f√ºr dieses Jahr?",
    15: "Welche Erinnerung zaubert dir jedes Jahr an Weihnachten ein L√§cheln ins Gesicht?",
    16: "Welche Weihnachtsfarbe magst du am liebsten (z.B. rot, gold, silber‚Ä¶)?",
    17: "Was machst du an den Feiertagen am liebsten: feiern, entspannen oder verreisen?",
    18: "Wie sieht dein perfekter Wintertag aus?",
    19: "Welches Weihnachtslied kannst du fast auswendig?",
    20: "Gibt es ein Geschenk, das du nie vergessen wirst?",
    21: "Wie fr√ºh beginnst du mit den Vorbereitungen f√ºr Weihnachten?",
    22: "Was war dein sch√∂nster Adventsmoment in diesem Jahr?",
    23: "Wenn du dem Christkind/Weihnachtsmann etwas w√ºnschen k√∂nntest ‚Äì was w√§re es?",
    24: "Was ist f√ºr dich das Wichtigste an Weihnachten?"
  };

  const IMAGES = {
    1: "https://images.pexels.com/photos/1303098/pexels-photo-1303098.jpeg",
    2: "line.png",
    3: "Laelaps-cope.jpg",
    4: "line.png",
    5: "https://images.pexels.com/photos/3016960/pexels-photo-3016960.jpeg",
    6: "https://images.pexels.com/photos/3165335/pexels-photo-3165335.jpeg",
    7: "https://images.pexels.com/photos/712318/pexels-photo-712318.jpeg",
    8: "https://images.pexels.com/photos/2253090/pexels-photo-2253090.jpeg",
    9: "https://images.pexels.com/photos/1303097/pexels-photo-1303097.jpeg",
    10: "https://images.pexels.com/photos/2253600/pexels-photo-2253600.jpeg",
    11: "https://images.pexels.com/photos/1729797/pexels-photo-1729797.jpeg",
    12: "https://images.pexels.com/photos/112460/pexels-photo-112460.jpeg",
    13: "https://images.pexels.com/photos/688019/pexels-photo-688019.jpeg",
    14: "https://images.pexels.com/photos/1303085/pexels-photo-1303085.jpeg",
    15: "https://images.pexels.com/photos/1661635/pexels-photo-1661635.jpeg",
    16: "https://images.pexels.com/photos/2449665/pexels-photo-2449665.jpeg",
    17: "https://images.pexels.com/photos/749353/pexels-photo-749353.jpeg",
    18: "https://images.pexels.com/photos/2253091/pexels-photo-2253091.jpeg",
    19: "https://images.pexels.com/photos/1303086/pexels-photo-1303086.jpeg",
    20: "https://images.pexels.com/photos/1556679/pexels-photo-1556679.jpeg",
    21: "https://images.pexels.com/photos/1303096/pexels-photo-1303096.jpeg",
    22: "https://images.pexels.com/photos/1708601/pexels-photo-1708601.jpeg",
    23: "https://images.pexels.com/photos/1303099/pexels-photo-1303099.jpeg",
    24: "https://images.pexels.com/photos/1303087/pexels-photo-1303087.jpeg"
  };

  // OPTIONAL: URL Backend
  const ANSWER_API_URL = "https://script.google.com/macros/s/AKfycbzY1CJYm7iolw8DFpcDijE5ZU_JJeuq47crAtVbE3KeVtJWvijoZar5lCvjgmjdOLND/exec";

  /* ===========================
     HILFSFUNKTIONEN
     =========================== */

  const nameInput = document.getElementById("nameInput");
  const saveNameBtn = document.getElementById("saveNameBtn");
  const infoText = document.getElementById("infoText");
  const calendar = document.getElementById("calendar");

  const modalBackdrop = document.getElementById("modalBackdrop");
  const modalTitle = document.getElementById("modalTitle");
  const questionText = document.getElementById("questionText");
  const questionImage = document.getElementById("questionImage");
  const answerInput = document.getElementById("answerInput");
  const closeModalBtn = document.getElementById("closeModalBtn");
  const saveAnswerBtn = document.getElementById("saveAnswerBtn");
  const statusEl = document.getElementById("status");

  let currentDay = null;

  function getTodayDay() {
    if (FORCE_DAY !== null) return FORCE_DAY;

    const now = new Date();
    const month = now.getMonth(); // 0 = Jan, 11 = Dez

    if (month === 11) {
      // Dezember
      return Math.min(now.getDate(), 24);
    }
    // Au√üerhalb Dezember: standardm√§√üig alles gesperrt (0),
    // oder zum Testen: 24 setzen.
    return 4;
  }

  function loadName() {
    const stored = localStorage.getItem("ak_name");
    if (stored) {
      nameInput.value = stored;
      infoText.textContent = "Willkommen zur√ºck, " + stored + "!";
    }
  }

  function saveName() {
    const name = nameInput.value.trim();
    if (!name) {
      infoText.textContent = "Bitte gib einen Namen ein.";
      return;
    }
    localStorage.setItem("ak_name", name);
    infoText.textContent = "Hallo " + name + "! Du kannst jetzt T√ºrchen √∂ffnen.";
  }

  function loadAnswers() {
    try {
      const raw = localStorage.getItem("ak_answers");
      return raw ? JSON.parse(raw) : {};
    } catch {
      return {};
    }
  }

  function saveAnswerLocally(day, answer) {
    const answers = loadAnswers();
    answers[day] = answer;
    localStorage.setItem("ak_answers", JSON.stringify(answers));
  }

  function getLocalAnswer(day) {
    const answers = loadAnswers();
    return answers[day] || "";
  }

  function createCalendar() {
    calendar.innerHTML = "";
    const today = getTodayDay();

    for (let day = 1; day <= 24; day++) {
      const door = document.createElement("div");
      door.className = "door";

      const inner = document.createElement("div");
      inner.className = "door-inner";

      const front = document.createElement("div");
      front.className = "door-front";
      const span = document.createElement("span");
      span.textContent = day;
      front.appendChild(span);

      const back = document.createElement("div");
      back.className = "door-back";
      back.innerHTML = "<small>" + day + "\.&nbsp;Dezember</small>";

      inner.appendChild(front);
      inner.appendChild(back);
      door.appendChild(inner);

      if (day <= today || today === 24) {
        door.classList.add("available");
        inner.addEventListener("click", () => handleDoorClick(day, inner));
      } else {
        door.classList.add("locked");
      }

      calendar.appendChild(door);
    }
  }

  function handleDoorClick(day, innerEl) {
    const name = nameInput.value.trim();
    if (!name) {
      infoText.textContent = "Bitte gib zuerst deinen Namen ein.";
      nameInput.focus();
      return;
    }

    // Flip-Animation starten
    innerEl.classList.add("open");

    // Modal nach kurzer Zeit anzeigen (damit Flip sichtbar ist)
    setTimeout(() => {
      openModal(day);
    }, 300);
  }

  function openModal(day) {
    currentDay = day;
  
    const q = QUESTIONS[day];
    let questionTextValue = "";
    let isMultipleChoice = false;
    let options = [];
  
    if (typeof q === "string") {
      questionTextValue = q;
    } else if (q && typeof q === "object") {
      questionTextValue = q.text || "";
      options = Array.isArray(q.options) ? q.options : [];
      isMultipleChoice = options.length > 0;
    } else {
      questionTextValue = "Keine Frage hinterlegt.";
    }
  
    modalTitle.textContent = "T√ºrchen " + day;
    questionText.textContent = questionTextValue;
    questionImage.src = IMAGES[day] || "";
    questionImage.style.display = IMAGES[day] ? "block" : "none";
  
    const existingAnswer = getLocalAnswer(day);
    statusEl.textContent = existingAnswer ? "Bisher gespeicherte Antwort geladen." : "";
    statusEl.classList.remove("error");
  
    if (isMultipleChoice) {
      // Multiple Choice anzeigen, Textfeld verstecken
      answerWrapper.style.display = "none";
      mcWrapper.style.display = "block";
      renderMcOptions(options, existingAnswer);
    } else {
      // Textfrage anzeigen, MC verstecken
      answerWrapper.style.display = "block";
      mcWrapper.style.display = "none";
      answerInput.value = existingAnswer;
    }
  
    modalBackdrop.classList.add("visible");
  }
  
  function renderMcOptions(options, existingAnswer) {
    mcOptionsContainer.innerHTML = "";
  
    options.forEach((optText, index) => {
      const id = `mc_${currentDay}_${index}`;
      const wrapper = document.createElement("label");
      wrapper.className = "mc-option";
  
      const radio = document.createElement("input");
      radio.type = "radio";
      radio.name = "mcOption";
      radio.id = id;
  
      // Wir speichern als Wert z.B. "B: Kinderpunsch"
      const letter = String.fromCharCode(65 + index); // 65 = 'A'
      const value = optText.includes(":") ? optText : `${letter}: ${optText}`;
      radio.value = value;
  
      if (existingAnswer && existingAnswer === value) {
        radio.checked = true;
      }
  
      const span = document.createElement("span");
      span.textContent = optText;
  
      wrapper.appendChild(radio);
      wrapper.appendChild(span);
      mcOptionsContainer.appendChild(wrapper);
    });
  }

  function closeModal() {
    modalBackdrop.classList.remove("visible");
    currentDay = null;
    statusEl.textContent = "";
  }

function saveAnswer() {
    if (currentDay === null) return;
  
    const name = nameInput.value.trim();
    if (!name) {
      statusEl.textContent = "Bitte gib zuerst deinen Namen ein.";
      statusEl.classList.add("error");
      return;
    }
  
    const q = QUESTIONS[currentDay];
    const isMultipleChoice = q && typeof q === "object" && Array.isArray(q.options) && q.options.length > 0;
  
    let answer = "";
  
    if (isMultipleChoice) {
      const selected = mcOptionsContainer.querySelector('input[name="mcOption"]:checked');
      if (!selected) {
        statusEl.textContent = "Bitte w√§hle eine Option aus.";
        statusEl.classList.add("error");
        return;
      }
      answer = selected.value; // z.B. "B: Kinderpunsch"
    } else {
      answer = answerInput.value.trim();
      if (!answer) {
        statusEl.textContent = "Bitte gib eine Antwort ein.";
        statusEl.classList.add("error");
        return;
      }
    }
  
    // lokal speichern
    saveAnswerLocally(currentDay, answer);
    statusEl.textContent = "Antwort lokal gespeichert.";
    statusEl.classList.remove("error");
  
    // Wenn du Google Sheets angebunden hast:
    if (typeof ANSWER_API_URL === "string" && ANSWER_API_URL) {
      fetch(ANSWER_API_URL, {
        method: "POST",
        headers: { "Content-Type": "text/plain;charset=utf-8" },
        body: JSON.stringify({
          name,
          day: currentDay,
          answer
        })
      })
        .then(async res => {
          const text = await res.text();
          console.log("Google response status:", res.status);
          console.log("Google response body:", text);
      
          if (!res.ok) {
            throw new Error("Status " + res.status + " ‚Äì " + text);
          }
      
          statusEl.textContent = "Antwort gespeichert (Google Sheet). Danke!";
        })
        .catch((err) => {
          console.error("Google error:", err);
          statusEl.textContent = "Antwort nur lokal gespeichert (Fehler bei Google).";
          statusEl.classList.add("error");
        });
    }
  }

  /* ===========================
     EVENT LISTENERS & INIT
     =========================== */

  saveNameBtn.addEventListener("click", saveName);
  nameInput.addEventListener("keydown", (e) => {
    if (e.key === "Enter") {
      e.preventDefault();
      saveName();
    }
  });

  closeModalBtn.addEventListener("click", closeModal);
  modalBackdrop.addEventListener("click", (e) => {
    if (e.target === modalBackdrop) {
      closeModal();
    }
  });

  saveAnswerBtn.addEventListener("click", saveAnswer);

  // Init
  loadName();
  createCalendar();
</script>
</body>
</html>
